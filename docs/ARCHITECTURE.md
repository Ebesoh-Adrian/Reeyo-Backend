# ğŸ—ï¸ REEYO PLATFORM - TECHNICAL ARCHITECTURE

## ğŸ“Š Complete System Architecture

This document provides a comprehensive technical overview of the Reeyo delivery platform architecture.

---

## 1. HIGH-LEVEL SYSTEM ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         REEYO DELIVERY PLATFORM                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CLIENT LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                          â”‚
â”‚  ğŸ“± Customer Mobile App    ğŸ–¥ï¸Vendor Mobile App    ğŸ“± Rider Mobile App   â”‚
â”‚  (React Native/Flutter)   (React Native)        (React Native/Flutter)   â”‚
â”‚          â”‚                        â”‚                      â”‚               â”‚
â”‚          â”‚                        â”‚                      â”‚               â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                   â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ API GATEWAY LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                          â”‚
â”‚                    ğŸŒ AWS Application Load Balancer                     â”‚
â”‚                    (SSL Termination, Path Routing)                      â”‚
â”‚                                                                          â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚    â”‚              â”‚              â”‚              â”‚              â”‚       â”‚
â”‚    â–¼              â–¼              â–¼              â–¼              â–¼       â”‚
â”‚  :3001         :3002          :3003          :3005          :3004      â”‚
â”‚ User API     Vendor API     Rider API      Admin API    Socket Server  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ APPLICATION LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  User API  â”‚  â”‚ Vendor API â”‚  â”‚ Rider API  â”‚  â”‚ Admin API  â”‚       â”‚
â”‚  â”‚  (Node.js) â”‚  â”‚ (Node.js)  â”‚  â”‚ (Node.js)  â”‚  â”‚ (Node.js)  â”‚       â”‚
â”‚  â”‚  Express   â”‚  â”‚  Express   â”‚  â”‚  Express   â”‚  â”‚  Express   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚        â”‚                â”‚                â”‚                â”‚             â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                   â”‚                                     â”‚
â”‚                                   â–¼                                     â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚              â”‚    SHARED LIBRARIES LAYER        â”‚                       â”‚
â”‚              â”‚                                  â”‚                       â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚                       â”‚
â”‚              â”‚  â”‚ core-db  â”‚  â”‚  wallet  â”‚     â”‚                       â”‚
â”‚              â”‚  â”‚          â”‚  â”‚  engine  â”‚     â”‚                       â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â”‚                       â”‚
â”‚              â”‚       â”‚             â”‚            â”‚                       â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”     â”‚                       â”‚
â”‚              â”‚  â”‚notifica- â”‚  â”‚  shared  â”‚     â”‚                       â”‚
â”‚              â”‚  â”‚  tions   â”‚  â”‚  utils   â”‚     â”‚                       â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                       â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                   â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ DATA & SERVICES LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  DynamoDB   â”‚  â”‚   Redis     â”‚  â”‚   AWS SNS   â”‚  â”‚   AWS S3    â”‚  â”‚
â”‚  â”‚  (NoSQL)    â”‚  â”‚  (Cache)    â”‚  â”‚   (Push)    â”‚  â”‚  (Storage)  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ (Geo Data)  â”‚  â”‚             â”‚  â”‚             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚   Twilio    â”‚  â”‚  SendGrid   â”‚  â”‚   Campay    â”‚                    â”‚
â”‚  â”‚   (SMS)     â”‚  â”‚   (Email)   â”‚  â”‚  (Payment)  â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ MONITORING LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                          â”‚
â”‚  ğŸ“Š CloudWatch Logs    ğŸ“ˆ CloudWatch Metrics    ğŸ” AWS X-Ray            â”‚
â”‚  ğŸ“§ CloudWatch Alarms  ğŸ“‰ Application Insights  ğŸš¨ Error Tracking       â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. DETAILED API ARCHITECTURE

### **A. User API Architecture**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      USER API (Port 3001)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ REQUEST FLOW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                               â”‚
â”‚  Client Request                                               â”‚
â”‚       â”‚                                                       â”‚
â”‚       â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚  Middleware  â”‚                                            â”‚
â”‚  â”‚  Pipeline    â”‚                                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚         â”‚                                                     â”‚
â”‚         â”œâ”€â”€â–º 1. helmet (Security Headers)                    â”‚
â”‚         â”œâ”€â”€â–º 2. cors (CORS Policy)                           â”‚
â”‚         â”œâ”€â”€â–º 3. compression (Response Compression)           â”‚
â”‚         â”œâ”€â”€â–º 4. express.json (Body Parser)                   â”‚
â”‚         â”œâ”€â”€â–º 5. rate-limit (100 req/15min)                   â”‚
â”‚         â”œâ”€â”€â–º 6. auth.middleware (JWT Verification)           â”‚
â”‚         â””â”€â”€â–º 7. validation.middleware (Input Validation)     â”‚
â”‚                â”‚                                              â”‚
â”‚                â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚   Route Layer    â”‚                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚           â”‚                                                   â”‚
â”‚           â”œâ”€â”€â–º /api/v1/auth  â†’ Auth Routes                   â”‚
â”‚           â””â”€â”€â–º /api/v1/orders â†’ Order Routes                 â”‚
â”‚                â”‚                                              â”‚
â”‚                â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚ Controller Layer â”‚                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚           â”‚                                                   â”‚
â”‚           â”œâ”€â”€â–º AuthController.register()                     â”‚
â”‚           â”œâ”€â”€â–º AuthController.login()                        â”‚
â”‚           â””â”€â”€â–º OrdersController.placeOrder()                 â”‚
â”‚                â”‚                                              â”‚
â”‚                â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚  Service Layer   â”‚                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚           â”‚                                                   â”‚
â”‚           â”œâ”€â”€â–º AuthService (Business Logic)                  â”‚
â”‚           â”‚    - hashPassword()                              â”‚
â”‚           â”‚    - generateToken()                             â”‚
â”‚           â”‚    - sendVerificationSMS()                       â”‚
â”‚           â”‚                                                   â”‚
â”‚           â””â”€â”€â–º OrdersService                                 â”‚
â”‚                - validateOrder()                             â”‚
â”‚                - calculateFees()                             â”‚
â”‚                - processPayment()                            â”‚
â”‚                - createOrder()                               â”‚
â”‚                â”‚                                              â”‚
â”‚                â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚ Repository Layer â”‚                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚           â”‚                                                   â”‚
â”‚           â”œâ”€â”€â–º UserRepository (DynamoDB)                     â”‚
â”‚           â”‚    - create()                                    â”‚
â”‚           â”‚    - findById()                                  â”‚
â”‚           â”‚    - findByPhone()                               â”‚
â”‚           â”‚    - update()                                    â”‚
â”‚           â”‚                                                   â”‚
â”‚           â””â”€â”€â–º OrderRepository                               â”‚
â”‚                - create()                                    â”‚
â”‚                - findById()                                  â”‚
â”‚                - findByUser()                                â”‚
â”‚                â”‚                                              â”‚
â”‚                â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚  â”‚      DynamoDB Tables     â”‚                                â”‚
â”‚  â”‚  - reeyo-users           â”‚                                â”‚
â”‚  â”‚  - reeyo-orders          â”‚                                â”‚
â”‚  â”‚  - reeyo-wallets         â”‚                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **B. Shared Libraries Architecture**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SHARED LIBRARIES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚           core-db (Database Layer)          â”‚    â”‚
â”‚  â”‚                                             â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚         Models (TypeScript)          â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - User.ts                           â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - Vendor.ts                         â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - Rider.ts                          â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - Order.ts                          â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - Wallet.ts                         â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - Transaction.ts                    â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”‚                 â”‚                           â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚      Repositories (CRUD)             â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - UserRepository                    â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - VendorRepository                  â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - RiderRepository                   â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - OrderRepository                   â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - WalletRepository                  â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”‚                 â”‚                           â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚      DynamoDB Client                 â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - Connection pooling                â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - Auto-retry logic                  â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - Batch operations                  â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚      wallet-engine (Financial)              â”‚    â”‚
â”‚  â”‚                                             â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚   Transaction Engine (ACID)          â”‚  â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  processOrderCompletion():           â”‚  â”‚    â”‚
â”‚  â”‚  â”‚    1. BEGIN TRANSACTION              â”‚  â”‚    â”‚
â”‚  â”‚  â”‚    2. Debit Customer Wallet          â”‚  â”‚    â”‚
â”‚  â”‚  â”‚    3. Credit Vendor (subtotal-15%)   â”‚  â”‚    â”‚
â”‚  â”‚  â”‚    4. Credit Rider (delivery fee)    â”‚  â”‚    â”‚
â”‚  â”‚  â”‚    5. Credit Platform (commission)   â”‚  â”‚    â”‚
â”‚  â”‚  â”‚    6. Verify Total = 0               â”‚  â”‚    â”‚
â”‚  â”‚  â”‚    7. COMMIT or ROLLBACK             â”‚  â”‚    â”‚
â”‚  â”‚  â”‚                                      â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  Other Methods:                      â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - creditWallet()                    â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - debitWallet()                     â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - processRefund()                   â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  - processPayout()                   â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚     notifications (Multi-Channel)           â”‚    â”‚
â”‚  â”‚                                             â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚    â”‚
â”‚  â”‚  â”‚ PushService  â”‚  â”‚  SMSService  â”‚        â”‚    â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚        â”‚    â”‚
â”‚  â”‚  â”‚ AWS SNS      â”‚  â”‚   Twilio     â”‚        â”‚    â”‚
â”‚  â”‚  â”‚ - iOS APNs   â”‚  â”‚ - OTP codes  â”‚        â”‚    â”‚
â”‚  â”‚  â”‚ - Android    â”‚  â”‚ - Alerts     â”‚        â”‚    â”‚
â”‚  â”‚  â”‚   FCM        â”‚  â”‚              â”‚        â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚    â”‚
â”‚  â”‚                                             â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚    â”‚
â”‚  â”‚  â”‚ EmailService â”‚                          â”‚    â”‚
â”‚  â”‚  â”‚              â”‚                          â”‚    â”‚
â”‚  â”‚  â”‚  SendGrid    â”‚                          â”‚    â”‚
â”‚  â”‚  â”‚ - Receipts   â”‚                          â”‚    â”‚
â”‚  â”‚  â”‚ - Reports    â”‚                          â”‚    â”‚
â”‚  â”‚  â”‚ - Marketing  â”‚                          â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚       shared-utils (Common Utilities)       â”‚    â”‚
â”‚  â”‚                                             â”‚    â”‚
â”‚  â”‚  - logger.ts (Winston)                      â”‚    â”‚
â”‚  â”‚  - jwt.helper.ts (Token generation)         â”‚    â”‚
â”‚  â”‚  - password.helper.ts (bcrypt)              â”‚    â”‚
â”‚  â”‚  - validators.ts (Input validation)         â”‚    â”‚
â”‚  â”‚  - error-handler.ts (AppError class)        â”‚    â”‚
â”‚  â”‚  - constants.ts (Shared constants)          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. DATABASE ARCHITECTURE

### **A. DynamoDB Table Structure**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ DYNAMODB TABLES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              USERS TABLE                       â”‚    â”‚
â”‚  â”‚  Primary Key: userId (String)                  â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  Attributes:                                   â”‚    â”‚
â”‚  â”‚  - userId: "user_uuid"                         â”‚    â”‚
â”‚  â”‚  - firstName: "John"                           â”‚    â”‚
â”‚  â”‚  - lastName: "Doe"                             â”‚    â”‚
â”‚  â”‚  - phone: "+237670000001"                      â”‚    â”‚
â”‚  â”‚  - email: "john@example.com"                   â”‚    â”‚
â”‚  â”‚  - password: "hashed_bcrypt"                   â”‚    â”‚
â”‚  â”‚  - isPhoneVerified: true                       â”‚    â”‚
â”‚  â”‚  - status: "ACTIVE" | "SUSPENDED"              â”‚    â”‚
â”‚  â”‚  - addresses: [{...}, {...}]                   â”‚    â”‚
â”‚  â”‚  - createdAt: "ISO-8601"                       â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  GSI: phone-index (for login)                  â”‚    â”‚
â”‚  â”‚  GSI: email-index (for lookup)                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚             VENDORS TABLE                      â”‚    â”‚
â”‚  â”‚  Primary Key: vendorId (String)                â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  Attributes:                                   â”‚    â”‚
â”‚  â”‚  - vendorId: "vendor_uuid"                     â”‚    â”‚
â”‚  â”‚  - businessName: "Great Restaurant"            â”‚    â”‚
â”‚  â”‚  - ownerName: "Jane Smith"                     â”‚    â”‚
â”‚  â”‚  - phone: "+237670000002"                      â”‚    â”‚
â”‚  â”‚  - email: "vendor@example.com"                 â”‚    â”‚
â”‚  â”‚  - address: {...}                              â”‚    â”‚
â”‚  â”‚  - location: {lat, lng}                        â”‚    â”‚
â”‚  â”‚  - approvalStatus: "PENDING|APPROVED|REJECTED" â”‚    â”‚
â”‚  â”‚  - isOnline: true                              â”‚    â”‚
â”‚  â”‚  - businessHours: {...}                        â”‚    â”‚
â”‚  â”‚  - menu: [{...}, {...}]                        â”‚    â”‚
â”‚  â”‚  - rating: 4.5                                 â”‚    â”‚
â”‚  â”‚  - totalOrders: 150                            â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  GSI: phone-index                              â”‚    â”‚
â”‚  â”‚  GSI: approval-status-index                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              RIDERS TABLE                      â”‚    â”‚
â”‚  â”‚  Primary Key: riderId (String)                 â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  Attributes:                                   â”‚    â”‚
â”‚  â”‚  - riderId: "rider_uuid"                       â”‚    â”‚
â”‚  â”‚  - firstName: "Mike"                           â”‚    â”‚
â”‚  â”‚  - lastName: "Wilson"                          â”‚    â”‚
â”‚  â”‚  - phone: "+237670000003"                      â”‚    â”‚
â”‚  â”‚  - email: "rider@example.com"                  â”‚    â”‚
â”‚  â”‚  - vehicleType: "MOTORCYCLE"                   â”‚    â”‚
â”‚  â”‚  - vehicleNumber: "ABC123"                     â”‚    â”‚
â”‚  â”‚  - documents: {...}                            â”‚    â”‚
â”‚  â”‚  - approvalStatus: "PENDING|APPROVED|REJECTED" â”‚    â”‚
â”‚  â”‚  - isOnline: true                              â”‚    â”‚
â”‚  â”‚  - currentLocation: {lat, lng}                 â”‚    â”‚
â”‚  â”‚  - rating: 4.8                                 â”‚    â”‚
â”‚  â”‚  - totalDeliveries: 500                        â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  GSI: phone-index                              â”‚    â”‚
â”‚  â”‚  GSI: approval-status-index                    â”‚    â”‚
â”‚  â”‚  GSI: online-status-index                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              ORDERS TABLE                      â”‚    â”‚
â”‚  â”‚  Primary Key: orderId (String)                 â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  Attributes:                                   â”‚    â”‚
â”‚  â”‚  - orderId: "order_uuid"                       â”‚    â”‚
â”‚  â”‚  - userId: "user_uuid"                         â”‚    â”‚
â”‚  â”‚  - vendorId: "vendor_uuid"                     â”‚    â”‚
â”‚  â”‚  - riderId: "rider_uuid"                       â”‚    â”‚
â”‚  â”‚  - items: [{...}, {...}]                       â”‚    â”‚
â”‚  â”‚  - subtotal: 15000                             â”‚    â”‚
â”‚  â”‚  - deliveryFee: 2000                           â”‚    â”‚
â”‚  â”‚  - total: 17000                                â”‚    â”‚
â”‚  â”‚  - status: "PENDING|ACCEPTED|PREPARING|..."    â”‚    â”‚
â”‚  â”‚  - paymentMethod: "WALLET|MOBILE_MONEY|CASH"   â”‚    â”‚
â”‚  â”‚  - deliveryAddress: {...}                      â”‚    â”‚
â”‚  â”‚  - vendorAddress: {...}                        â”‚    â”‚
â”‚  â”‚  - distance: 5.2                               â”‚    â”‚
â”‚  â”‚  - timeline: {...}                             â”‚    â”‚
â”‚  â”‚  - rating: 5                                   â”‚    â”‚
â”‚  â”‚  - review: "Great service!"                    â”‚    â”‚
â”‚  â”‚  - createdAt: "ISO-8601"                       â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  GSI: userId-index (user's orders)             â”‚    â”‚
â”‚  â”‚  GSI: vendorId-index (vendor's orders)         â”‚    â”‚
â”‚  â”‚  GSI: riderId-index (rider's orders)           â”‚    â”‚
â”‚  â”‚  GSI: status-index (filter by status)          â”‚    â”‚
â”‚  â”‚  GSI: createdAt-index (recent orders)          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚             WALLETS TABLE                      â”‚    â”‚
â”‚  â”‚  Primary Key: walletId (String)                â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  Attributes:                                   â”‚    â”‚
â”‚  â”‚  - walletId: "wallet_uuid"                     â”‚    â”‚
â”‚  â”‚  - ownerType: "USER|VENDOR|RIDER|PLATFORM"     â”‚    â”‚
â”‚  â”‚  - ownerId: "user_uuid"                        â”‚    â”‚
â”‚  â”‚  - balance: 50000                              â”‚    â”‚
â”‚  â”‚  - currency: "XAF"                             â”‚    â”‚
â”‚  â”‚  - transactions: [{...}, {...}]                â”‚    â”‚
â”‚  â”‚  - updatedAt: "ISO-8601"                       â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  GSI: owner-index (by ownerId)                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚          TRANSACTIONS TABLE                    â”‚    â”‚
â”‚  â”‚  Primary Key: transactionId (String)           â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  Attributes:                                   â”‚    â”‚
â”‚  â”‚  - transactionId: "txn_uuid"                   â”‚    â”‚
â”‚  â”‚  - type: "CREDIT|DEBIT"                        â”‚    â”‚
â”‚  â”‚  - walletId: "wallet_uuid"                     â”‚    â”‚
â”‚  â”‚  - amount: 15000                               â”‚    â”‚
â”‚  â”‚  - balanceBefore: 35000                        â”‚    â”‚
â”‚  â”‚  - balanceAfter: 50000                         â”‚    â”‚
â”‚  â”‚  - reference: "order_uuid"                     â”‚    â”‚
â”‚  â”‚  - description: "Order payment"                â”‚    â”‚
â”‚  â”‚  - createdAt: "ISO-8601"                       â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  GSI: walletId-index                           â”‚    â”‚
â”‚  â”‚  GSI: createdAt-index                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **B. Redis Data Structures**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ REDIS CACHE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚         STRING CACHE                     â”‚      â”‚
â”‚  â”‚                                          â”‚      â”‚
â”‚  â”‚  user:{userId}           â†’ JSON (1 hour) â”‚      â”‚
â”‚  â”‚  vendor:{vendorId}       â†’ JSON (5 min)  â”‚      â”‚
â”‚  â”‚  menu:{vendorId}         â†’ JSON (10 min) â”‚      â”‚
â”‚  â”‚  session:{sessionId}     â†’ JSON (7 days) â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚        GEOSPATIAL DATA                   â”‚      â”‚
â”‚  â”‚                                          â”‚      â”‚
â”‚  â”‚  riders:online                           â”‚      â”‚
â”‚  â”‚  GEOADD riders:online                    â”‚      â”‚
â”‚  â”‚    {longitude} {latitude} {riderId}      â”‚      â”‚
â”‚  â”‚                                          â”‚      â”‚
â”‚  â”‚  Query nearby riders:                    â”‚      â”‚
â”‚  â”‚  GEORADIUS riders:online                 â”‚      â”‚
â”‚  â”‚    {lng} {lat} 5 km WITHDIST             â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚           SORTED SETS                    â”‚      â”‚
â”‚  â”‚                                          â”‚      â”‚
â”‚  â”‚  orders:pending                          â”‚      â”‚
â”‚  â”‚  ZADD orders:pending                     â”‚      â”‚
â”‚  â”‚    {timestamp} {orderId}                 â”‚      â”‚
â”‚  â”‚                                          â”‚      â”‚
â”‚  â”‚  leaderboard:riders:daily                â”‚      â”‚
â”‚  â”‚  ZADD leaderboard:riders:daily           â”‚      â”‚
â”‚  â”‚    {earnings} {riderId}                  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚            LISTS                         â”‚      â”‚
â”‚  â”‚                                          â”‚      â”‚
â”‚  â”‚  notifications:{userId}                  â”‚      â”‚
â”‚  â”‚  LPUSH notifications:{userId}            â”‚      â”‚
â”‚  â”‚    {notification_json}                   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. REAL-TIME ARCHITECTURE (WebSocket)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SOCKET SERVER (Port 3004) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  Client Connection Flow:                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                     â”‚
â”‚                                                                 â”‚
â”‚  1. Client connects via WebSocket                              â”‚
â”‚     ws://localhost:3004?token=JWT_TOKEN                        â”‚
â”‚                                                                 â”‚
â”‚  2. Server validates JWT token                                 â”‚
â”‚     â”œâ”€ Valid â†’ Add to connection pool                          â”‚
â”‚     â””â”€ Invalid â†’ Disconnect                                    â”‚
â”‚                                                                 â”‚
â”‚  3. Client joins room based on role                            â”‚
â”‚     â”œâ”€ User â†’ "user_{userId}"                                  â”‚
â”‚     â”œâ”€ Vendor â†’ "vendor_{vendorId}"                            â”‚
â”‚     â””â”€ Rider â†’ "rider_{riderId}"                               â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚           EVENT ARCHITECTURE                      â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  SERVER â†’ CLIENT EVENTS:                         â”‚        â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  â€¢ new_order                                     â”‚        â”‚
â”‚  â”‚    To: Vendor + Nearby Riders                    â”‚        â”‚
â”‚  â”‚    Data: { orderId, items, pickup, delivery }    â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  â€¢ order_accepted                                â”‚        â”‚
â”‚  â”‚    To: User                                      â”‚        â”‚
â”‚  â”‚    Data: { orderId, vendorId, estimatedTime }    â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  â€¢ order_preparing                               â”‚        â”‚
â”‚  â”‚    To: User                                      â”‚        â”‚
â”‚  â”‚    Data: { orderId, estimatedReadyTime }         â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  â€¢ order_ready                                   â”‚        â”‚
â”‚  â”‚    To: User + Assigned Rider                     â”‚        â”‚
â”‚  â”‚    Data: { orderId, pickupAddress }              â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  â€¢ rider_assigned                                â”‚        â”‚
â”‚  â”‚    To: User + Vendor                             â”‚        â”‚
â”‚  â”‚    Data: { riderId, name, phone, vehicle }       â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  â€¢ rider_location_update                         â”‚        â”‚
â”‚  â”‚    To: User (real-time tracking)                 â”‚        â”‚
â”‚  â”‚    Data: { lat, lng, heading, speed }            â”‚        â”‚
â”‚  â”‚    Frequency: Every 5 seconds                    â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  â€¢ order_delivered                               â”‚        â”‚
â”‚  â”‚    To: All parties                               â”‚        â”‚
â”‚  â”‚    Data: { orderId, deliveryTime, signature }    â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  â€¢ order_cancelled                               â”‚        â”‚
â”‚  â”‚    To: All parties                               â”‚        â”‚
â”‚  â”‚    Data: { orderId, reason, refundAmount }       â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  CLIENT â†’ SERVER EVENTS:                         â”‚        â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  â€¢ join_room                                     â”‚        â”‚
â”‚  â”‚    Data: { roomId, userId }                      â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  â€¢ update_location (riders only)                 â”‚        â”‚
â”‚  â”‚    Data: { lat, lng, heading }                   â”‚        â”‚
â”‚  â”‚    â†’ Updates Redis geospatial data               â”‚        â”‚
â”‚  â”‚    â†’ Broadcasts to users tracking this rider     â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  â€¢ typing (chat)                                 â”‚        â”‚
â”‚  â”‚    Data: { orderId, isTyping }                   â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚         CONNECTION MANAGEMENT                     â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  Active Connections: Map<socketId, {             â”‚        â”‚
â”‚  â”‚    userId: string,                               â”‚        â”‚
â”‚  â”‚    role: 'USER'|'VENDOR'|'RIDER',                â”‚        â”‚
â”‚  â”‚    rooms: string[],                              â”‚        â”‚
â”‚  â”‚    connectedAt: Date                             â”‚        â”‚
â”‚  â”‚  }>                                              â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  Heartbeat: Every 30 seconds                     â”‚        â”‚
â”‚  â”‚  Reconnection: Automatic with exponential        â”‚        â”‚
â”‚  â”‚                backoff (1s, 2s, 4s, 8s, 16s)     â”‚        â”‚
â”‚  â”‚                                                   â”‚        â”‚
â”‚  â”‚  Scaling: Redis Pub/Sub for multi-instance       â”‚        â”‚
â”‚  â”‚           socket servers                          â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. PAYMENT FLOW ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PAYMENT PROCESSING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚  SCENARIO: Customer places order worth 17,000 XAF          â”‚
â”‚  (Subtotal: 15,000 + Delivery: 2,000)                      â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   STEP 1: ORDER CREATION                        â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚   OrdersService.placeOrder():                   â”‚      â”‚
â”‚  â”‚   1. Validate user, vendor, items               â”‚      â”‚
â”‚  â”‚   2. Calculate distance (Haversine)             â”‚      â”‚
â”‚  â”‚   3. Calculate delivery fee                     â”‚      â”‚
â”‚  â”‚   4. Calculate total                            â”‚      â”‚
â”‚  â”‚   5. Create order (status: PENDING)             â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚   IF paymentMethod === 'WALLET':                â”‚      â”‚
â”‚  â”‚     6. Check wallet balance                     â”‚      â”‚
â”‚  â”‚     7. Debit wallet (-17,000 XAF)               â”‚      â”‚
â”‚  â”‚     8. Update order (status: PAID)              â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚   IF paymentMethod === 'MOBILE_MONEY':          â”‚      â”‚
â”‚  â”‚     6. Initiate Campay payment                  â”‚      â”‚
â”‚  â”‚     7. Wait for webhook confirmation            â”‚      â”‚
â”‚  â”‚     8. Update order when confirmed              â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚   IF paymentMethod === 'CASH':                  â”‚      â”‚
â”‚  â”‚     6. Mark for cash on delivery                â”‚      â”‚
â”‚  â”‚     7. Payment on delivery                      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   STEP 2: ORDER COMPLETION (Delivered)          â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚   WalletEngine.processOrderCompletion():        â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚   INPUT:                                        â”‚      â”‚
â”‚  â”‚   - Order Total: 17,000 XAF                     â”‚      â”‚
â”‚  â”‚   - Subtotal: 15,000 XAF                        â”‚      â”‚
â”‚  â”‚   - Delivery Fee: 2,000 XAF                     â”‚      â”‚
â”‚  â”‚   - Commission Rate: 15%                        â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚   CALCULATIONS:                                 â”‚      â”‚
â”‚  â”‚   - Platform Commission = 15,000 Ã— 0.15         â”‚      â”‚
â”‚  â”‚                         = 2,250 XAF             â”‚      â”‚
â”‚  â”‚   - Vendor Amount = 15,000 - 2,250              â”‚      â”‚
â”‚  â”‚                   = 12,750 XAF                  â”‚      â”‚
â”‚  â”‚   - Rider Amount = 2,000 XAF                    â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚   TRANSACTION SEQUENCE (ATOMIC):                â”‚      â”‚
â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚   BEGIN TRANSACTION                             â”‚      â”‚
â”‚  â”‚   â”œâ”€ Already debited from customer              â”‚      â”‚
â”‚  â”‚   â”‚                                             â”‚      â”‚
â”‚  â”‚   â”œâ”€ Credit Vendor Wallet:                      â”‚      â”‚
â”‚  â”‚   â”‚    +12,750 XAF                              â”‚      â”‚
â”‚  â”‚   â”‚    Transaction: {                           â”‚      â”‚
â”‚  â”‚   â”‚      type: 'CREDIT',                        â”‚      â”‚
â”‚  â”‚   â”‚      amount: 12750,                         â”‚      â”‚
â”‚  â”‚   â”‚      reference: orderId,                    â”‚      â”‚
â”‚  â”‚   â”‚      description: 'Order payment'           â”‚      â”‚
â”‚  â”‚   â”‚    }                                        â”‚      â”‚
â”‚  â”‚   â”‚                                             â”‚      â”‚
â”‚  â”‚   â”œâ”€ Credit Rider Wallet:                       â”‚      â”‚
â”‚  â”‚   â”‚    +2,000 XAF                               â”‚      â”‚
â”‚  â”‚   â”‚    Transaction: {                           â”‚      â”‚
â”‚  â”‚   â”‚      type: 'CREDIT',                        â”‚      â”‚
â”‚  â”‚   â”‚      amount: 2000,                          â”‚      â”‚
â”‚  â”‚   â”‚      reference: orderId,                    â”‚      â”‚
â”‚  â”‚   â”‚      description: 'Delivery fee'            â”‚      â”‚
â”‚  â”‚   â”‚    }                                        â”‚      â”‚
â”‚  â”‚   â”‚                                             â”‚      â”‚
â”‚  â”‚   â”œâ”€ Credit Platform Wallet:                    â”‚      â”‚
â”‚  â”‚   â”‚    +2,250 XAF                               â”‚      â”‚
â”‚  â”‚   â”‚    Transaction: {                           â”‚      â”‚
â”‚  â”‚   â”‚      type: 'CREDIT',                        â”‚      â”‚
â”‚  â”‚   â”‚      amount: 2250,                          â”‚      â”‚
â”‚  â”‚   â”‚      reference: orderId,                    â”‚      â”‚
â”‚  â”‚   â”‚      description: 'Commission (15%)'        â”‚      â”‚
â”‚  â”‚   â”‚    }                                        â”‚      â”‚
â”‚  â”‚   â”‚                                             â”‚      â”‚
â”‚  â”‚   â”œâ”€ VERIFICATION:                              â”‚      â”‚
â”‚  â”‚   â”‚    Customer: -17,000 (already done)         â”‚      â”‚
â”‚  â”‚   â”‚    Vendor:   +12,750                        â”‚      â”‚
â”‚  â”‚   â”‚    Rider:    + 2,000                        â”‚      â”‚
â”‚  â”‚   â”‚    Platform: + 2,250                        â”‚      â”‚
â”‚  â”‚   â”‚    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚      â”‚
â”‚  â”‚   â”‚    TOTAL:         0  âœ“                      â”‚      â”‚
â”‚  â”‚   â”‚                                             â”‚      â”‚
â”‚  â”‚   â””â”€ COMMIT TRANSACTION                         â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚   IF any step fails â†’ ROLLBACK ALL              â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   STEP 3: PAYOUT PROCESSING                     â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚   Vendor requests payout:                       â”‚      â”‚
â”‚  â”‚   1. Check wallet balance â‰¥ minimum (5,000)     â”‚      â”‚
â”‚  â”‚   2. Create payout request                      â”‚      â”‚
â”‚  â”‚   3. Admin approves payout                      â”‚      â”‚
â”‚  â”‚   4. Debit vendor wallet                        â”‚      â”‚
â”‚  â”‚   5. Transfer to vendor bank (Campay)           â”‚      â”‚
â”‚  â”‚   6. Update payout status                       â”‚      â”‚
â”‚  â”‚                                                 â”‚      â”‚
â”‚  â”‚   Same process for riders                       â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. DEPLOYMENT ARCHITECTURE (AWS)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ AWS CLOUD ARCHITECTURE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚                   ROUTE 53 (DNS)                         â”‚     â”‚
â”‚  â”‚              api.reeyo.cm â†’ ALB                          â”‚     â”‚
â”‚  â”‚              www.reeyo.cm â†’ CloudFront                   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                            â”‚                                       â”‚
â”‚                            â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚         CloudFront (CDN)                                 â”‚     â”‚
â”‚  â”‚         - Static assets (images, CSS, JS)                â”‚     â”‚
â”‚  â”‚         - Edge caching                                   â”‚     â”‚
â”‚  â”‚         - DDoS protection                                â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                            â”‚                                       â”‚
â”‚                            â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚    Application Load Balancer (ALB)                       â”‚     â”‚
â”‚  â”‚    - SSL Termination (ACM Certificate)                   â”‚     â”‚
â”‚  â”‚    - Path-based routing:                                 â”‚     â”‚
â”‚  â”‚      /api/user/*   â†’ User API Target Group               â”‚     â”‚
â”‚  â”‚      /api/vendor/* â†’ Vendor API Target Group             â”‚     â”‚
â”‚  â”‚      /api/rider/*  â†’ Rider API Target Group              â”‚     â”‚
â”‚  â”‚      /api/admin/*  â†’ Admin API Target Group              â”‚     â”‚
â”‚  â”‚    - Health checks every 30s                             â”‚     â”‚
â”‚  â”‚    - Sticky sessions                                     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚           â”‚         â”‚         â”‚         â”‚                          â”‚
â”‚           â–¼         â–¼         â–¼         â–¼                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚              ECS FARGATE CLUSTER                       â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚       â”‚
â”‚  â”‚  â”‚  USER API                                    â”‚     â”‚       â”‚
â”‚  â”‚  â”‚  Tasks: 2-10 instances (auto-scaling)        â”‚     â”‚       â”‚
â”‚  â”‚  â”‚  CPU: 1 vCPU, Memory: 2 GB                   â”‚     â”‚       â”‚
â”‚  â”‚  â”‚  Container: reeyo-user-api:latest            â”‚     â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚       â”‚
â”‚  â”‚                                                        â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚       â”‚
â”‚  â”‚  â”‚  VENDOR API                                  â”‚     â”‚       â”‚
â”‚  â”‚  â”‚  Tasks: 2-10 instances (auto-scaling)        â”‚     â”‚       â”‚
â”‚  â”‚  â”‚  CPU: 1 vCPU, Memory: 2 GB                   â”‚     â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚       â”‚
â”‚  â”‚                                                        â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚       â”‚
â”‚  â”‚  â”‚  RIDER API                                   â”‚     â”‚       â”‚
â”‚  â”‚  â”‚  Tasks: 2-10 instances (auto-scaling)        â”‚     â”‚       â”‚
â”‚  â”‚  â”‚  CPU: 1 vCPU, Memory: 2 GB                   â”‚     â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚       â”‚
â”‚  â”‚                                                        â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚       â”‚
â”‚  â”‚  â”‚  ADMIN API                                   â”‚     â”‚       â”‚
â”‚  â”‚  â”‚  Tasks: 1-5 instances (auto-scaling)         â”‚     â”‚       â”‚
â”‚  â”‚  â”‚  CPU: 0.5 vCPU, Memory: 1 GB                 â”‚     â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚       â”‚
â”‚  â”‚                                                        â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚       â”‚
â”‚  â”‚  â”‚  SOCKET SERVER                               â”‚     â”‚       â”‚
â”‚  â”‚  â”‚  Tasks: 2-5 instances                        â”‚     â”‚       â”‚
â”‚  â”‚  â”‚  CPU: 1 vCPU, Memory: 2 GB                   â”‚     â”‚       â”‚
â”‚  â”‚  â”‚  Network: WebSocket support                  â”‚     â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                            â”‚                                       â”‚
â”‚                            â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚                 DATA LAYER                               â”‚     â”‚
â”‚  â”‚                                                          â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚     â”‚
â”‚  â”‚  â”‚   DynamoDB     â”‚  â”‚ ElastiCache    â”‚                â”‚     â”‚
â”‚  â”‚  â”‚   (NoSQL DB)   â”‚  â”‚ (Redis Cluster)â”‚                â”‚     â”‚
â”‚  â”‚  â”‚                â”‚  â”‚                â”‚                â”‚     â”‚
â”‚  â”‚  â”‚ - On-demand    â”‚  â”‚ - 3 nodes      â”‚                â”‚     â”‚
â”‚  â”‚  â”‚   billing      â”‚  â”‚ - Replication  â”‚                â”‚     â”‚
â”‚  â”‚  â”‚ - Auto-scaling â”‚  â”‚ - Automatic    â”‚                â”‚     â”‚
â”‚  â”‚  â”‚ - Global       â”‚  â”‚   failover     â”‚                â”‚     â”‚
â”‚  â”‚  â”‚   tables       â”‚  â”‚                â”‚                â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚     â”‚
â”‚  â”‚                                                          â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚     â”‚
â”‚  â”‚  â”‚      S3        â”‚  â”‚      SNS       â”‚                â”‚     â”‚
â”‚  â”‚  â”‚  (File Store)  â”‚  â”‚  (Push Notif)  â”‚                â”‚     â”‚
â”‚  â”‚  â”‚                â”‚  â”‚                â”‚                â”‚     â”‚
â”‚  â”‚  â”‚ - Documents    â”‚  â”‚ - iOS APNs     â”‚                â”‚     â”‚
â”‚  â”‚  â”‚ - Images       â”‚  â”‚ - Android FCM  â”‚                â”‚     â”‚
â”‚  â”‚  â”‚ - Backups      â”‚  â”‚                â”‚                â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚           MONITORING & LOGGING                           â”‚     â”‚
â”‚  â”‚                                                          â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚
â”‚  â”‚  â”‚  CloudWatch  â”‚  â”‚  CloudWatch  â”‚  â”‚   X-Ray      â”‚  â”‚     â”‚
â”‚  â”‚  â”‚    Logs      â”‚  â”‚   Metrics    â”‚  â”‚  (Tracing)   â”‚  â”‚     â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚     â”‚
â”‚  â”‚  â”‚ - API logs   â”‚  â”‚ - CPU usage  â”‚  â”‚ - Request    â”‚  â”‚     â”‚
â”‚  â”‚  â”‚ - Error logs â”‚  â”‚ - Memory     â”‚  â”‚   tracing    â”‚  â”‚     â”‚
â”‚  â”‚  â”‚ - Access logsâ”‚  â”‚ - Latency    â”‚  â”‚ - Service    â”‚  â”‚     â”‚
â”‚  â”‚  â”‚              â”‚  â”‚ - Throughput â”‚  â”‚   map        â”‚  â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚
â”‚  â”‚                                                          â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚     â”‚
â”‚  â”‚  â”‚  CloudWatch  â”‚  â”‚   AWS        â”‚                    â”‚     â”‚
â”‚  â”‚  â”‚   Alarms     â”‚  â”‚  Secrets     â”‚                    â”‚     â”‚
â”‚  â”‚  â”‚              â”‚  â”‚  Manager     â”‚                    â”‚     â”‚
â”‚  â”‚  â”‚ - High CPU   â”‚  â”‚              â”‚                    â”‚     â”‚
â”‚  â”‚  â”‚ - High error â”‚  â”‚ - API keys   â”‚                    â”‚     â”‚
â”‚  â”‚  â”‚   rate       â”‚  â”‚ - JWT secret â”‚                    â”‚     â”‚
â”‚  â”‚  â”‚ - Low disk   â”‚  â”‚ - DB creds   â”‚                    â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚              SECURITY                                    â”‚     â”‚
â”‚  â”‚                                                          â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚     â”‚
â”‚  â”‚  â”‚  WAF   â”‚  â”‚  IAM   â”‚  â”‚  VPC   â”‚  â”‚  ACM   â”‚        â”‚     â”‚
â”‚  â”‚  â”‚        â”‚  â”‚        â”‚  â”‚        â”‚  â”‚        â”‚        â”‚     â”‚
â”‚  â”‚  â”‚ - DDoS â”‚  â”‚ - Rolesâ”‚  â”‚ - SG   â”‚  â”‚ - SSL  â”‚        â”‚     â”‚
â”‚  â”‚  â”‚ - Rate â”‚  â”‚ - Keys â”‚  â”‚ - NACL â”‚  â”‚  Cert  â”‚        â”‚     â”‚
â”‚  â”‚  â”‚  limit â”‚  â”‚        â”‚  â”‚        â”‚  â”‚        â”‚        â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TOTAL MONTHLY COST (Estimated):
â”œâ”€ ECS Fargate (10 tasks): $150-300
â”œâ”€ DynamoDB (on-demand): $50-200
â”œâ”€ ElastiCache: $50-150
â”œâ”€ ALB: $25
â”œâ”€ S3: $10-50
â”œâ”€ CloudWatch: $10-30
â”œâ”€ Data Transfer: $50-100
â””â”€ TOTAL: $345-855/month for 1,000-10,000 users
```

---

## 7. SECURITY ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SECURITY LAYERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                          â”‚
â”‚  LAYER 1: NETWORK SECURITY                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                             â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  WAF (Web Application Firewall)            â”‚         â”‚
â”‚  â”‚  - SQL injection prevention                â”‚         â”‚
â”‚  â”‚  - XSS attack prevention                   â”‚         â”‚
â”‚  â”‚  - Rate limiting (IP-based)                â”‚         â”‚
â”‚  â”‚  - Geo-blocking (optional)                 â”‚         â”‚
â”‚  â”‚  - Custom rules                            â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  VPC (Virtual Private Cloud)               â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  Public Subnet:                            â”‚         â”‚
â”‚  â”‚  - ALB (internet-facing)                   â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  Private Subnet:                           â”‚         â”‚
â”‚  â”‚  - ECS tasks (no public IP)                â”‚         â”‚
â”‚  â”‚  - ElastiCache                             â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  Security Groups:                          â”‚         â”‚
â”‚  â”‚  - ALB SG: Allow 443 from 0.0.0.0/0        â”‚         â”‚
â”‚  â”‚  - ECS SG: Allow 3001-3005 from ALB SG     â”‚         â”‚
â”‚  â”‚  - Redis SG: Allow 6379 from ECS SG        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  SSL/TLS                                   â”‚         â”‚
â”‚  â”‚  - ACM Certificate                         â”‚         â”‚
â”‚  â”‚  - TLS 1.2+ only                           â”‚         â”‚
â”‚  â”‚  - HSTS enabled                            â”‚         â”‚
â”‚  â”‚  - Certificate auto-renewal                â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                          â”‚
â”‚  LAYER 2: APPLICATION SECURITY                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Authentication & Authorization            â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  JWT (JSON Web Tokens):                    â”‚         â”‚
â”‚  â”‚  - HS256 algorithm                         â”‚         â”‚
â”‚  â”‚  - 32+ character secret                    â”‚         â”‚
â”‚  â”‚  - 30-day expiration                       â”‚         â”‚
â”‚  â”‚  - Payload: {                              â”‚         â”‚
â”‚  â”‚      userId, email, role, iat, exp         â”‚         â”‚
â”‚  â”‚    }                                       â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  RBAC (Role-Based Access Control):         â”‚         â”‚
â”‚  â”‚  - Admin: Full access                      â”‚         â”‚
â”‚  â”‚  - Vendor: Own data only                   â”‚         â”‚
â”‚  â”‚  - Rider: Own data only                    â”‚         â”‚
â”‚  â”‚  - User: Own data only                     â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  Permissions checked on every request:     â”‚         â”‚
â”‚  â”‚  req.middleware â†’ verify token             â”‚         â”‚
â”‚  â”‚                â†’ check role                â”‚         â”‚
â”‚  â”‚                â†’ check ownership            â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Password Security                         â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  - bcrypt hashing (12 rounds)              â”‚         â”‚
â”‚  â”‚  - Never store plain text                  â”‚         â”‚
â”‚  â”‚  - Minimum 8 characters                    â”‚         â”‚
â”‚  â”‚  - Require: uppercase, lowercase,          â”‚         â”‚
â”‚  â”‚             number, special char           â”‚         â”‚
â”‚  â”‚  - Password change forces re-login         â”‚         â”‚
â”‚  â”‚  - Account lockout: 5 failed attempts      â”‚         â”‚
â”‚  â”‚                     (30 min lockout)       â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Input Validation                          â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  express-validator on all inputs:          â”‚         â”‚
â”‚  â”‚  - Email format validation                 â”‚         â”‚
â”‚  â”‚  - Phone number format                     â”‚         â”‚
â”‚  â”‚  - Sanitize HTML                           â”‚         â”‚
â”‚  â”‚  - SQL injection prevention                â”‚         â”‚
â”‚  â”‚  - XSS prevention                          â”‚         â”‚
â”‚  â”‚  - Length limits                           â”‚         â”‚
â”‚  â”‚  - Type checking                           â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Rate Limiting                             â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  Global:                                   â”‚         â”‚
â”‚  â”‚  - 100 requests per 15 minutes per IP      â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  Auth endpoints:                           â”‚         â”‚
â”‚  â”‚  - 5 login attempts per 15 minutes         â”‚         â”‚
â”‚  â”‚  - 3 registration attempts per hour        â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  Implementation:                           â”‚         â”‚
â”‚  â”‚  - express-rate-limit middleware           â”‚         â”‚
â”‚  â”‚  - Redis store for distributed limiting    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                          â”‚
â”‚  LAYER 3: DATA SECURITY                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Encryption                                â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  At Rest:                                  â”‚         â”‚
â”‚  â”‚  - DynamoDB encryption enabled             â”‚         â”‚
â”‚  â”‚  - S3 bucket encryption (AES-256)          â”‚         â”‚
â”‚  â”‚  - EBS volume encryption                   â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  In Transit:                               â”‚         â”‚
â”‚  â”‚  - TLS 1.2+ for all connections            â”‚         â”‚
â”‚  â”‚  - HTTPS only (HTTP redirects)             â”‚         â”‚
â”‚  â”‚  - Encrypted WebSocket (wss://)            â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Secrets Management                        â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  AWS Secrets Manager:                      â”‚         â”‚
â”‚  â”‚  - JWT secrets                             â”‚         â”‚
â”‚  â”‚  - API keys (Twilio, SendGrid, etc.)       â”‚         â”‚
â”‚  â”‚  - Database credentials                    â”‚         â”‚
â”‚  â”‚  - Automatic rotation                      â”‚         â”‚
â”‚  â”‚  - Access via IAM roles only               â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  Never in code or version control!         â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  PII Protection                            â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  - Passwords: Never logged                 â”‚         â”‚
â”‚  â”‚  - Credit cards: Never stored              â”‚         â”‚
â”‚  â”‚  - Phone numbers: Encrypted in logs        â”‚         â”‚
â”‚  â”‚  - Emails: Hashed in analytics             â”‚         â”‚
â”‚  â”‚  - GDPR compliance ready                   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                          â”‚
â”‚  LAYER 4: MONITORING & AUDITING                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Audit Logging                             â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  Logged events:                            â”‚         â”‚
â”‚  â”‚  - All authentication attempts             â”‚         â”‚
â”‚  â”‚  - All admin actions                       â”‚         â”‚
â”‚  â”‚  - All financial transactions              â”‚         â”‚
â”‚  â”‚  - All data modifications                  â”‚         â”‚
â”‚  â”‚  - All access to sensitive data            â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  Log retention: 90 days minimum            â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Anomaly Detection                         â”‚         â”‚
â”‚  â”‚                                            â”‚         â”‚
â”‚  â”‚  CloudWatch Alarms for:                    â”‚         â”‚
â”‚  â”‚  - Unusual login patterns                  â”‚         â”‚
â”‚  â”‚  - High error rates                        â”‚         â”‚
â”‚  â”‚  - Unusual data access patterns            â”‚         â”‚
â”‚  â”‚  - Failed authentication spikes            â”‚         â”‚
â”‚  â”‚  - Large financial transactions            â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. DEVELOPMENT WORKFLOW

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CI/CD PIPELINE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚  Developer Pushes Code                         â”‚
â”‚         â”‚                                       â”‚
â”‚         â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚  â”‚  GitHub Repo   â”‚                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚           â”‚                                     â”‚
â”‚           â”‚ (webhook)                           â”‚
â”‚           â”‚                                     â”‚
â”‚           â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   GitHub Actions           â”‚                â”‚
â”‚  â”‚   (CI/CD Workflow)         â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚           â”‚                                     â”‚
â”‚           â”œâ”€â–º STEP 1: Checkout Code            â”‚
â”‚           â”‚                                     â”‚
â”‚           â”œâ”€â–º STEP 2: Install Dependencies     â”‚
â”‚           â”‚    npm ci                           â”‚
â”‚           â”‚                                     â”‚
â”‚           â”œâ”€â–º STEP 3: Run Linter               â”‚
â”‚           â”‚    npm run lint                     â”‚
â”‚           â”‚                                     â”‚
â”‚           â”œâ”€â–º STEP 4: Run Tests                â”‚
â”‚           â”‚    npm run test                     â”‚
â”‚           â”‚    - Unit tests                     â”‚
â”‚           â”‚    - Integration tests              â”‚
â”‚           â”‚    - E2E tests                      â”‚
â”‚           â”‚                                     â”‚
â”‚           â”œâ”€â–º STEP 5: Build TypeScript         â”‚
â”‚           â”‚    npm run build                    â”‚
â”‚           â”‚                                     â”‚
â”‚           â”œâ”€â–º STEP 6: Build Docker Images      â”‚
â”‚           â”‚    docker build -t user-api:$SHA    â”‚
â”‚           â”‚    docker build -t vendor-api:$SHA  â”‚
â”‚           â”‚    ...                              â”‚
â”‚           â”‚                                     â”‚
â”‚           â”œâ”€â–º STEP 7: Push to ECR              â”‚
â”‚           â”‚    docker push ecr.../user-api:$SHA â”‚
â”‚           â”‚                                     â”‚
â”‚           â”œâ”€â–º STEP 8: Update ECS Tasks         â”‚
â”‚           â”‚    aws ecs update-service          â”‚
â”‚           â”‚                                     â”‚
â”‚           â””â”€â–º STEP 9: Notify Team               â”‚
â”‚                - Slack message                  â”‚
â”‚                - Email notification             â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   Deployment Stages         â”‚                â”‚
â”‚  â”‚                            â”‚                â”‚
â”‚  â”‚  main branch:              â”‚                â”‚
â”‚  â”‚  â†’ Production deployment   â”‚                â”‚
â”‚  â”‚                            â”‚                â”‚
â”‚  â”‚  staging branch:           â”‚                â”‚
â”‚  â”‚  â†’ Staging deployment      â”‚                â”‚
â”‚  â”‚                            â”‚                â”‚
â”‚  â”‚  feature/* branches:       â”‚                â”‚
â”‚  â”‚  â†’ Run tests only          â”‚                â”‚
â”‚  â”‚    (no deployment)         â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**This is your complete technical architecture!** ğŸ¯

All diagrams, flows, and technical specifications for the entire Reeyo platform are documented here.
